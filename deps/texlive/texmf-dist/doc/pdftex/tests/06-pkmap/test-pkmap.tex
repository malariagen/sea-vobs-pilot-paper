% $Id: test-pkmap.tex 777 2017-04-20 23:08:32Z karl $
% Public domain.
% Test map files with bitmap (i.e., Type 3) fonts.

% A thread starting here:
%   http://tug.org/pipermail/pdftex/2016-July/009064.html
% and continuing here (and more):
%   http://tug.org/pipermail/pdftex/2016-August/009065.html
% discusses a patch for supporting an encoding file with Type 3.
% The patch has not yet been installed.
%
% For comparison, the PDF made before the patch was applied is saved
% here as prepatch.pdf.
% 
% The default PK resolution is 72, so we made cmb10.72pk in this directory.
% (mf-nowin '\mode:=mactrue; input cmb10' && gftopk cmb10.72gf)
% (mf-nowin '\mode:=mactrue; input cmr10' && gftopk cmr10.72gf)
%
\pdfoutput=1 \catcode`\{=1 \catcode`\}=2
\hsize=6pc \parfillskip=0pt plus1fil  \vsize=6in \lineskip=1pc
\pdfcompresslevel=0 \pdfobjcompresslevel=0

\pdfglyphtounicode{ffi}{0066 0066 0069} %no need for all: \input glyphtounicode
\pdfgentounicode=1

\pdfmapline{cmr10}% type3 map without encoding - no ToUnicode, no /ffi.
\font\cmr=cmr10 \noindent \cmr ffi

% if we install the patch.
%\pdfmapline{cmb10 <7t.enc}% type3 map with encoding
%\font\cmb=cmb10 \noindent \cmb ffi

% geometrically-scaled tfm: the Type 3 should be scaled (resulting in
% blocky blown-up bits), instead of using a separately-generated
% cmr10.360pk (50*72/10).
\font\big = cmr10 at 50pt \big big
\end
